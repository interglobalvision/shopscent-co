{"version":3,"sources":["main.js"],"names":["Site","mobileThreshold","init","_this","this","$","window","resize","onResize","hasClass","Product","length","setTimeout","setGalleryDimensions","bindGalleryDrag","fixWidows","each","string","html","replace","pickRelated","galleryWidth","windowWidth","width","galleryContainerWidth","css","transform","left","pep","axis","constrainTo","place","unbind","pick","removeClass","jQuery","document","ready"],"mappings":"AAGAA,MACEC,gBAAiB,IACjBC,KAAM,WACJ,GAAIC,GAAQC,IAEZC,GAAEC,QAAQC,OAAO,WACfJ,EAAMK,aAGJH,EAAE,QAAQI,SAAS,qBACrBN,EAAMO,QAAQR,QAKlBM,SAAU,WACR,GAAIL,GAAQC,IAERC,GAAE,oBAAoBM,QAGxBC,WAAW,WACTT,EAAMO,QAAQG,uBACdV,EAAMO,QAAQI,mBACb,MAIPC,UAAW,WAETV,EAAE,kBAAkBW,KAAK,WACvB,GAAIC,GAASZ,EAAED,MAAMc,MACrBD,GAASA,EAAOE,QAAQ,YAAY,YACpCd,EAAED,MAAMc,KAAKD,OAOnBjB,KAAKU,SACHR,KAAM,WACJ,GAAIC,GAAQC,IAERC,GAAE,oBAAoBM,QACxBR,EAAMU,uBAGJR,EAAE,qBAAqBM,QACzBR,EAAMiB,eAIVP,qBAAsB,WACpB,GAAIV,GAAQC,KACRiB,EAAe,EACfC,EAAcjB,EAAEC,QAAQiB,OAQ5B,IANAlB,EAAE,yBAAyBW,KAAK,WAC9BK,GAAgBhB,EAAED,MAAMmB,UAG1BlB,EAAE,wBAAwBkB,MAAMF,GAE5BA,EAAeC,EAAa,CAC9B,GAAIE,GAAwBH,GAAgBA,EAAeC,EAE3DjB,GAAE,oBACCkB,MAAMC,GACNC,IAAI,OAAUH,EAAc,EAAME,EAAwB,EAAM,MAEnEnB,EAAE,wBAAwBoB,IAAI,YAAa,eAAkBD,EAAwB,EAAMH,EAAe,GAAM,OAEhHlB,EAAMW,sBAINT,GAAE,oBACCkB,MAAMF,GACNI,IAAI,OAAUH,EAAc,EAAMD,EAAe,EAAM,MAE1DhB,EAAE,wBAAwBoB,KACxBC,UAAa,gBACbC,KAAS,OAMfb,gBAAiB,WACf,GACIO,GAAehB,EAAE,wBAAwBkB,QACzCD,EAAcjB,EAAEC,QAAQiB,OAExBF,GAAeC,EACjBjB,EAAE,wBAAwBuB,KACxBC,KAAM,IACNC,YAAa,SACbC,OAAO,IACNN,IAAI,SAAU,cAEjBpB,EAAEuB,IAAII,OAAO3B,EAAE,yBACfA,EAAE,wBAAwBoB,IAAI,SAAU,aAI5CL,YAAa,WACXf,EAAE,0BAA0B4B,KAAK,GAEjC5B,EAAE,qBAAqB6B,YAAY,cAIvCC,OAAOC,UAAUC,MAAM,WACrB,YAEArC,MAAKE","file":"main.min.js.liquid","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global jQuery, $, document, Site, Modernizr */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    if ($('body').hasClass('template-product')) {\n      _this.Product.init();\n    }\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    if ($('#product-gallery').length) {\n\n      // debounce gallery\n      setTimeout(function() {\n        _this.Product.setGalleryDimensions();\n        _this.Product.bindGalleryDrag();\n      }, 500);\n    }\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n\n\n};\n\nSite.Product = {\n  init: function() {\n    var _this = this;\n\n    if ($('#product-gallery').length) {\n      _this.setGalleryDimensions();\n    }\n\n    if ($('#related-products').length) {\n      _this.pickRelated();\n    }\n  },\n\n  setGalleryDimensions: function() {\n    var _this = this;\n    var galleryWidth = 0;\n    var windowWidth = $(window).width();\n\n    $('.product-gallery-item').each(function() {\n      galleryWidth += $(this).width();\n    });\n\n    $('#product-gallery-row').width(galleryWidth);\n\n    if (galleryWidth > windowWidth) {\n      var galleryContainerWidth = galleryWidth + (galleryWidth - windowWidth);\n\n      $('#product-gallery')\n        .width(galleryContainerWidth)\n        .css('left', ((windowWidth / 2) - (galleryContainerWidth / 2)) + 'px');\n\n      $('#product-gallery-row').css('transform', 'translateX(' + ((galleryContainerWidth / 2) - (galleryWidth / 2)) + 'px)');\n\n      _this.bindGalleryDrag();\n\n    } else {\n\n      $('#product-gallery')\n        .width(galleryWidth)\n        .css('left', ((windowWidth / 2) - (galleryWidth / 2)) + 'px');\n\n      $('#product-gallery-row').css({\n        'transform': 'translateX(0)',\n        'left' : '0'\n      });\n    }\n\n  },\n\n  bindGalleryDrag: function() {\n    var _this = this;\n    var galleryWidth = $('#product-gallery-row').width();\n    var windowWidth = $(window).width();\n\n    if (galleryWidth > windowWidth) {\n      $('#product-gallery-row').pep({\n        axis: 'x',\n        constrainTo: 'parent',\n        place: false\n      }).css('cursor', 'ew-resize');\n    } else {\n      $.pep.unbind($('#product-gallery-row'));\n      $('#product-gallery-row').css('cursor', 'default');\n    }\n  },\n\n  pickRelated: function() {\n    $('.related-products-item').pick(4);\n\n    $('#related-products').removeClass('u-hidden');\n  },\n};\n\njQuery(document).ready(function () {\n  'use strict';\n\n  Site.init();\n\n});\n"]}