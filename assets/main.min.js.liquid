function onYouTubeIframeAPIReady(){Site.Index.Video.APIReady()}Site={mobileThreshold:601,debounceTimer:null,isIndex:$(".index-content").length,init:function(){var e=this;e.isIndex&&e.Index.init(),($("body#about").length||$("body").hasClass("template-article"))&&e.Blog.init(),$("#doodle").length&&e.Doodle.init(),$(".js-tilt").tilt({reset:!1}),$(document).ready(function(){$("body").hasClass("template-product")&&e.Product.init(),$(window).resize(function(){e.onResize()})})},onResize:function(){var e=this;e.isIndex&&e.Index.getHeaderTop(),$(".blog-item, .blog-item-mobile, .blog-item-single").find("iframe").length&&e.Blog.scaleIframes(),$("#product-gallery").length&&(clearTimeout(e.debounceTimer),e.debounceTimer=setTimeout(function(){e.Product.setGalleryDimensions(),clearTimeout(e.debounceTimer),e.debounceTimer=null},100))},fixWidows:function(){$(".js-fix-widows").each(function(){var e=$(this).html();e=e.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(e)})}},Site.Index={init:function(){var e=this;window.location.href.indexOf("#shop")!==-1&&(history.replaceState({},document.title,"/"),setTimeout(function(){e.scrollToShop()},300)),$(".index-header").length&&(e.getHeaderTop(),e.bindScroll(),e.bindShopClick()),$("#front-video").length&&(e.Video.init(),detectAutoplay(2e3,function(){e.Video.remove()}))},getHeaderTop:function(){var e=this;e.headerTop=$(window).innerHeight()-$("#header").outerHeight(),e.setSticky()},bindScroll:function(){var e=this;$(window).on("scroll",function(){e.setSticky()})},setSticky:function(){var e=this,t=$(window).scrollTop();t>=e.headerTop&&$("#header").removeClass("index-header"),t<e.headerTop&&$("#header").addClass("index-header")},bindShopClick:function(){var e=this;$(".js-scroll-to-shop").on("click",function(t){t.preventDefault(),e.scrollToShop(),$(this).trigger("blur")})},scrollToShop:function(){var e=$("#front-splash").height();$("body").stop().animate({scrollTop:e},"500","swing")},Video:{$video:$("#front-video"),timeout:void 0,init:function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.src="https://www.youtube.com/iframe_api",t.parentNode.insertBefore(e,t)},APIReady:function(){var e=this;e.player=new YT.Player("front-video",{events:{onReady:e.onReady,onStateChange:e.onPlayerStateChange.bind(e)}})},onReady:function(e){e.target.playVideo()},onPlayerStateChange:function(e){var t=this;if(1===e.data){var o=e.target.getDuration();t.$video.css("opacity",1),t.timeout=setTimeout(function(){e.target.seekTo(0)},1e3*o-100)}},remove:function(){var e=this;e.$video.remove()}}},Site.Product={$gallery:$("#product-gallery"),$galleryRow:$("#product-gallery-row"),init:function(){var e=this;e.$gallery.length&&e.$gallery.imagesLoaded(function(){e.setGalleryDimensions()}),$("#product-select").length&&e.productSelect(),$("#related-products").length&&e.pickRelated()},setGalleryDimensions:function(){var e=this,t=0,o=$(window).width();if($(".product-gallery-item").each(function(){t+=$(this)[0].getBoundingClientRect().width}),e.$galleryRow.css("transition","none"),e.$galleryRow.width(t),t>o){var i=t+(t-o);e.$gallery.width(i).css("left",o/2-i/2+"px"),e.$galleryRow.css("left",i/2-t/2+"px"),e.bindGalleryDrag()}else e.$gallery.width(t).css("left",o/2-t/2+"px"),e.$galleryRow.css({left:"0"}),e.unbindGalleryDrag()},bindGalleryDrag:function(){var e=this;e.$galleryRow.pep({axis:"x",constrainTo:"parent",place:!1,useCSSTranslation:!1}).css("cursor","ew-resize")},unbindGalleryDrag:function(){var e=this;$.pep.unbind(e.$galleryRow),e.$galleryRow.css("cursor","default")},selectCallback:function(e){e&&e.available===!0?($("#product-add-holder").removeClass("out-of-stock"),$("#add").removeAttr("disabled")):($("#product-add-holder").addClass("out-of-stock"),$("#add").attr("disabled","disabled"))},productSelect:function(){var e=this,t=JSON.parse($("#product-info").attr("data-product"));new Shopify.OptionSelectors("product-select",{product:t,onVariantSelected:e.selectCallback}),$("#product-add-holder").addClass("padding-top-small")},pickRelated:function(){$(".related-products-item").pick(4),$("#related-products").removeClass("u-hidden")}},Site.Blog={$blogItem:$(".blog-item, .blog-item-mobile, .blog-item-single"),$blogIframes:null,init:function(){var e=this;e.$blogItem.length&&(e.$blogIframes=e.$blogItem.find("iframe"),e.$blogIframes.length&&e.scaleIframes())},scaleIframes:function(){var e=this;e.$blogIframes.each(function(){var e=$(this).attr("width"),t=$(this).attr("height"),o=$(this).width(),i=t/e;$(this).css("height",o*i+"px")})}},Site.Doodle={init:function(){var e=this;$("#doodle svg")[0].setAttribute("preserveAspectRatio","none");var t=0;e.keyframe=1,$("#doodle svg path, #doodle svg polyline").each(function(){var o=this;setTimeout(function(){e.drawPath($(o))},t),t+=1e3})},getPathLength:function(e){console.log("getPathLength");var t=e.get(0),o=t.getTotalLength();return o},drawPath:function(e){console.log("drawPath");var t=this,o=t.getPathLength(e);$.keyframe.define([{name:"keyframe-"+t.keyframe,"0%":{"stroke-dashoffset":o},"50%":{"stroke-dashoffset":0},"100%":{"stroke-dashoffset":o}}]),e.css({"stroke-dasharray":o,opacity:1}).playKeyframe({name:"keyframe-"+t.keyframe,timingFunction:"linear",iterationCount:"infinite",duration:"10s"}),t.keyframe++}},Site.init();